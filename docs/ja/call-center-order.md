# コールセンターデモの説明

このデモはコールセンターにおける注文を想定したデモを行います。

マイクボタンを押すとユーザーからの発話を受け付け、チャットのインプットとすることができます。
チャットの返答に関しては音声再生ができます。

Azure OpenAIには注文内容のヒアリングをするようにプロンプトを設定しています。

プロンプトに関しては
`app/api/call-center-order/route.ts`内に保管されています。
こちらをカスタマイズすることで応答内容をモデルのカスタマイズなしで設定が可能です。

該当箇所

```ts
const TEMPLATE = `あなたは商品の注文を助けるエージェントです。丁寧にユーザーからヒアリングを行い、注文を確定してください。
ヒアリングすべき内容は以下の通りです。
- 商品名
- 数量
- 色
- サイズ

かならず上記すべての情報をユーザーからヒアリングしてください。
また確認した情報をユーザーに伝え、注文を確定してください。
確認した内容は下記のようにユーザーに伝えます。

- 商品名: スカート
- 数量: 1つ
- 色: 青
- サイズ: M

足りない情報がある場合は、ユーザーに足りない情報を伝えてください。

Current conversation:
{chat_history}

User: {input}
AI:`;
```

JavaScriptのテンプレートリテラルを使ってチャットの履歴と新しいユーザー入力を与えた内容をプロンプトとしてます。

したがって基本機能は維持するためCurrent conversationの上の内容を変更してください。
